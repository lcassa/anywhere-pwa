define(["./any-app.js"],function(_anyApp){"use strict";function _templateObject_5a52d5f0a00c11e8bbe817b4934a1a7c(){var data=babelHelpers.taggedTemplateLiteral(["\n      ","\n      <style>\n      \tpaper-input {\n      \t\t--paper-input-container-focus-color: #325C80;\n      \t\t--paper-input-container-input-color: #000000;\n      \t\t--paper-input-container-color: #325C80;\n      \t}\n\n        paper-button {\n          background-color: #5AAAFA;\n          color: white;\n          margin-top: 30px;\n        }\n\n        section {\n          margin: 10px;\n        }\n\n      </style>\n      <section class=\"flex--full-width\">\n        <paper-input readonly=\"true\" label=\"WONUM\" value=\"{{item.id}}\"></paper-input>\n        <paper-input readonly=\"true\" label=\"Status\" value=\"{{item.status}}\"></paper-input>\n        <paper-input readonly=\"true\" label=\"Date\" value=\"{{item.dueDate}}\"></paper-input>\n        <paper-input label=\"Description\" value=\"{{item.desc}}\"></paper-input>\n        <paper-button raised on-tap=\"_deleteRecord\">Delete this record</paper-button>\n      </section>\n    "]);_templateObject_5a52d5f0a00c11e8bbe817b4934a1a7c=function(){return data};return data}var AnyDetailsView=function(_PolymerElement){babelHelpers.inherits(AnyDetailsView,_PolymerElement);function AnyDetailsView(){babelHelpers.classCallCheck(this,AnyDetailsView);return babelHelpers.possibleConstructorReturn(this,(AnyDetailsView.__proto__||Object.getPrototypeOf(AnyDetailsView)).apply(this,arguments))}babelHelpers.createClass(AnyDetailsView,[{key:"ready",value:function ready(){babelHelpers.get(AnyDetailsView.prototype.__proto__||Object.getPrototypeOf(AnyDetailsView.prototype),"ready",this).call(this);this._loadItem(this.itemId)}},{key:"_loadItem",value:function _loadItem(itemId){var that=this;AnyAppGlobals.anydb.get(itemId).then(function(doc){that.set("item",doc);AnyAppGlobals.dbBinder.bindDoc(doc,"workorders",doc.resourceName,that)}).catch(function(err){console.error(err);throw err})}},{key:"_itemPropertyChanged",value:function _itemPropertyChanged(changeRecord){if(!this.item||!changeRecord||"item"===changeRecord.path){return}var that=this,_id=this.item._id.toString(),path=changeRecord.path.match(/\w+\.(.*)/)[1],value=changeRecord.value;AnyAppGlobals.anydb.get(_id).then(function(doc){doc[path]=value;AnyAppGlobals.anydb.put(doc).catch(function(err){console.error("Unable to save record: "+doc);throw err})}).catch(function(err){console.error("Unable to retrieve record with _id: "+_id);throw err})}},{key:"_deleteRecord",value:function _deleteRecord(){var that=this;AnyAppGlobals.anydb.get(this.item._id).then(function(doc){AnyAppGlobals.anydb.remove(doc._id,doc._rev).then(function(result){that.set("route.path","/list-view/");return result}).catch(function(err){console.error("Unable to remove record: "+doc._id);throw err})})}},{key:"_routeChanged",value:function _routeChanged(){this._loadItem(this.itemId)}}],[{key:"properties",get:function get(){return{route:{type:Object,value:null,observer:"_routeChanged"},itemId:{type:String,value:null},item:{type:Object,reflectToAttribute:!0,notify:!0,value:null}}}},{key:"template",get:function get(){return(0,_anyApp.html)(_templateObject_5a52d5f0a00c11e8bbe817b4934a1a7c(),_anyApp.AnywhereStyles)}},{key:"observers",get:function get(){return["_itemPropertyChanged(item.*)"]}}]);return AnyDetailsView}(_anyApp.PolymerElement);window.customElements.define("any-details-view",AnyDetailsView)});